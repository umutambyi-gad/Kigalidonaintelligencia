{% extends 'base.html' %}
{% load static %}

{% block title %}HOME{% endblock %}

{% block metas %}

<meta name="author" content="Umutambyi Gad" />
<meta name="keywords" content="HABIYAREMYE Dona Honey, Kigali Dona intelligencia, Rwandan author, Kinyarwanda Books" />
<meta name="description" content="Official Kigali, Rwanda public library website of kigalidonaintelligencia which consist of eBooks, philosophy and religion-based theory" />

{% endblock %}

{% block content %}

<!-- Start: Slider Section -->
<div data-ride="carousel" class="carousel slide" id="home-v1-header-carousel">
    <!-- Carousel slides -->
    <div class="carousel-inner">
        {% for content in home_background %}
        <div class="item {% if forloop.first %}active{% endif %}">
            <figure>
                <img alt="Home Slide" src="{{ content.image.url }}" loading="lazy" />
            </figure>
            <div class="container">
                <div class="carousel-caption">
                    <h2>{{ content.title }}</h2>
                    <p>{{ content.description }}</p>
                    <div class="slide-buttons hidden-sm hidden-xs">    
                        <a href="{% url 'About-us:aboutUs' %}" class="btn btn-primary">Read More</a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    <!-- Indicators -->
    <ol class="carousel-indicators">
        {% for content in home_background %}
        <li data-target="#home-v1-header-carousel" data-slide-to="{{ forloop.counter0 }}" class="{% if forloop.first %}active{% endif %}"></li>
        {% endfor %}
    </ol>
</div>
<!-- End: Slider Section -->

<!-- Start: Search Section -->
<section class="search-filters">
    <div class="container">
        <div class="filter-box">
            <h3>What are you looking for? search here.</h3>
            <form action="{% url 'Books:search-book' %}" method="GET">
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="sr-only" for="keywords">Search by Keyword</label>
                        <input class="form-control" placeholder="Search by Keyword" id="keywords" name="q" type="text">
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="form-group">
                        <select name="type" class="form-control">
                            <option selected>Books</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="form-group">
                        <select name="cat" id="category" class="form-control">
                            <option value="all-category" selected>All Categories</option>
                            {% for book_category in book_categories %}
                            <option value="{{ book_category.category }}">{{ book_category.category }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="col-md-2 col-sm-6">
                    <div class="form-group">
                        <input class="form-control" type="submit" value="Search">
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>
<!-- End: Search Section -->



<!-- Start: Welcome Section -->
<section class="welcome-section">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="welcome-wrap">
                    <div class="welcome-text">
                        <h2 class="section-title">{{ home_welcoming.title }}</h2>
                        <span class="underline left"></span>
                        <p>{{ home_welcoming.description }}</p>
                        <a class="btn btn-primary" href="{% url 'About-us:aboutUs' %}">Read More</a>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="welcome-image">
                    <img src="{{ home_welcoming.image.url }}" class="algin-right" alt="" loading="lazy"/>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End: Welcome Section -->

<!-- Start: Category Filter -->
<section class="category-filter section-padding">
    <div class="container">
        <div class="row">
            <div class="center-content">
                <h2 class="section-title">Check Out The Books</h2>
                <span class="underline center"></span>
                <p class="lead">Find all the best different categories of books ever on Kigali Dona Intelligencia, and thank later.</p>
            </div>
            <div class="filter-buttons">
                <div class="filter btn" data-filter="all">All Releases</div>
                {% for book_category in book_categories %}                
                <div class="filter btn" data-filter=".{{ book_category.category }}">{{ book_category.category }}</div>
                {% endfor %}
            </div>
            <div id="category-filter">
                <ul class="category-list">
                    {% for recent_book in recent_books %}
                    <li class="category-item {{ recent_book.related_category }}">
                        <figure>
                            <img src="{{ recent_book.thumbnail.url }}" alt="New Releaase" />
                            <figcaption class="{% cycle 'bg-light-green' 'bg-blue' %}">
                                <div class="diamond">
                                    <i class="book"></i>
                                </div>
                                <div class="info-block">
                                    <h4>{{ recent_book.name }}</h4>
                                    <span class="author"><strong>Author:</strong>  {{ recent_book.author.get_full_name }}</span>
                                    <span class="author"><strong>Edition:</strong>  {{ recent_book.edition }}</span>
                                    <span class="author"><strong>ISBN:</strong>  {{ recent_book.ISBN }}</span>
                                    <p>{{ recent_book.summary | truncatechars:100 | safe }}</p>
                                    <a href="{{ recent_book.get_absolute_url }}">Read More <i class="fa fa-long-arrow-right"></i></a>
                                </div>
                            </figcaption>
                        </figure>
                    </li>
                    {% endfor %}
                </ul>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</section>
<!-- Start: Category Filter -->

<!-- Start: Latest Blog -->
<section class="latest-blog section-padding">
    <div class="container">
        <div class="center-content">
            <h2 class="section-title">Latest Blogs</h2>
            <span class="underline center"></span>
            <p class="lead">Read different important blogs on Kigali Dona Intelligencia to learn a lot that will guide you to the sucess for life</p>
        </div>
        <div id="content" class="site-content">
            <div id="primary" class="content-area">
                <main id="main" class="site-main">
                    <div class="blog-main-list">
                        <div class="container">
                            <div class="row">
                                <div class="blog-page grid" style="position: relative; height: 3122.16px;">
                                    {% for recent_blog in recent_blogs %}
                                    <article>
                                        <div class="grid-item blog-item" style="position: absolute; left: 50%; top: 2532px;">
                                            <div class="post-thumbnail">
                                                <div class="post-date-box">
                                                    <div class="post-date">
                                                        <a class="date" href="#">{{ recent_blog.added_date.day }}</a>
                                                    </div>
                                                    <div class="post-date-month">
                                                        <a class="month" href="#">{{ recent_blog.added_date|date:'M' }}</a>
                                                    </div>
                                                </div>
                                                <a href="{{ recent_blog.get_absolute_url }}"><img style="height: 248px !important;" alt="blog" src="{{ recent_blog.thumbnail.url }}"></a>
                                                <div class="post-share">
                                                    <a href="{{ recent_blog.get_absolute_url }}#comments"><i class="fa fa-comment"></i> {{ recent_blog.rootcomments_set.all.count | add:recent_blog.replycomments_set.all.count }} </a>
                                                    <a href="{{ recent_blog.get_absolute_url }}"><i class="fa fa-eye"></i> {{ recent_blog.views }}</a>
                                                </div>
                                            </div>
                                            <div class="post-detail">
                                                <header class="entry-header">
                                                    <div class="blog_meta_category">
                                                        <span class="arrow-right"></span>
                                                        {% for category in recent_blog.related_categories.all %}
                                                        <a href="#" rel="category tag">{{ category }}</a>, 
                                                        {% endfor %}
                                                    </div>
                                                    <h3 class="entry-title"><a href="{{ recent_blog.get_absolute_url }}">{{ recent_blog.title }}</a></h3>
                                                    <div class="entry-meta">
                                                        <span><i class="fa fa-user"></i> <a href="{{ recent_blog.get_absolute_url }}">{{ recent_blog.author.username }}</a></span>
                                                        <span><i class="fa fa-comment"></i> <a href="{{ recent_blog.get_absolute_url }}#comments">{{ recent_blog.rootcomments_set.all.count | add:recent_blog.replycomments_set.all.count }}</a></span>
                                                    </div>
                                                </header>
                                                <div class="entry-content">
                                                    <p>{{ recent_blog.description }}</p>
                                                </div>
                                                <footer class="entry-footer">
                                                    <a class="btn btn-default" href="{{ recent_blog.get_absolute_url }}">Read More</a>
                                                </footer>
                                            </div>
                                        </div>
                                    </article>
                                    {% endfor %}
                                </div>
                                <a href="{% url 'Blogs:blogs' %}" id="loadmore">See More</a>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>
</section>
<!-- End: Latest Blog -->

<!-- Start: Testimonials Section -->
<section class="testimonials">
    <div class="container">
        <h3 class="section-title">Testimonials From All Over The World</h3>
        <span class="underline center"></span>
        <p class="lead">Testimonies are like facts that claims something to be true, here people from every corner of the world claim how good Kigali Dona Intelligencia is</p>
        <div class="row">
            <div class="col-md-12" data-wow-delay="0.2s">
                <div class="carousel slide" data-interval="false" data-ride="carousel" id="testimonials">
                    <!-- Carousel Slides / Quotes -->
                    <div class="carousel-inner text-center">
                        <!-- Quote -->
                        {% for testimony in testimonies %}
                        <div class="item {% if forloop.first %}active{% endif %}">
                            <figure>
                                <img src="{{ testimony.author_image.url }}" alt="testimonials"/>
                                <figcaption>
                                    <div class="client-name">{{ testimony.author_name }}</div>
                                    <div class="designation">testimony author</div>
                                </figcaption>
                            </figure>
                            <p>{{ testimony.testimony }}</p>
                        </div>
                        {% endfor %}
                        <!-- Carousel indicators -->
                        <ol class="carousel-indicators">
                            {% for testimony in testimonies %}
                            <li data-target="#testimonials" data-slide-to="{{ forloop.counter0 }}" class="{% if forloop.first %}active{% endif %}"></li>
                            {% endfor %}
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End: Testimonials Section -->


<section class="add-testimony">
    <div class="container">
        <h3 class="section-title">Say something about us</h3>
        <span class="underline center"></span>
        <p class="lead">Either you are impressed or not your testimony on the website's experience is very important and free</p>
        <div class="row">
            <form id="testimonial-form" action="{% url 'Home:home' %}" enctype="multipart/form-data" method="POST">
            {% csrf_token %}
                <div class="col-md-6">
                    <div class="col-md-6 col-sm-6">
                        <div class="form-group">
                            <input class="form-control" name="names" type="text" placeholder="Names" required/>
                        </div>
                    </div>
                    <div class="col-md-6 col-sm-6">
                        <div class="form-group">
                            <input class="form-control" name="email" type="email" placeholder="Email" required/>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-6">
                        <div class="form-group">
                            <div class="custom-file">
                                <input name="image" type="file" name="image" class="custom-file-input" id="customFiles">
                                <label class="custom-file-label" for="customFiles">Add your image (Optional)</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-group">
                            <textarea class="form-control" rows="6" required name="testimony"></textarea>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="col-md-2 col-sm-2">
                        <div class="icon"><span class="fa fa-linkedin" title="Linkedin"></span></div>
                    </div>
                    <div class="col-md-10 col-sm-10">
                        <div class="form-group">
                            <input class="form-control" type="text" name="linkedin" placeholder="Linkedin username (Optional)"/>
                        </div>
                    </div>
                    <div class="col-md-2 col-sm-2">
                        <div class="form-group">
                            <div class="icon"><span class="fa fa-facebook" title="Facebook"></span></div>
                        </div>
                    </div>
                    <div class="col-md-10 col-sm-10">
                        <div class="form-group">
                            <input class="form-control" type="text" name="facebook" placeholder="Facebook username (Optional)"/>
                        </div>
                    </div>
                    <div class="col-md-2 col-sm-2">
                        <div class="form-group">
                            <div class="icon"><span class="fa fa-twitter" title="Twitter"></span></div>
                        </div>
                    </div>
                    <div class="col-md-10 col-sm-10">
                        <div class="form-group">
                            <input class="form-control" type="text" name="twitter" placeholder="twitter username (Optional)"/>
                        </div>
                    </div>
                    <div class="col-md-2 col-sm-2">
                        <div class="form-group">
                            <div class="icon"><span class="fa fa-instagram" title="Instagram"></span></div>
                        </div>
                    </div>
                    <div class="col-md-10 col-sm-10">
                        <div class="form-group">
                            <input class="form-control" type="text" name="instagram" placeholder="Instagram username (Optional)"/>
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="col-sm-12">
                        <div class="form-group form-submit">
                            <input class="btn btn-default" type="submit" name="submit" value="Submit" required/>
                        </div>
                    </div>
                </div>
            </form>
        </div> 
        </div>
    </div>
</section>

<!-- Start: Newsletter -->
<section class="newsletter section-padding">
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-2">
                <div class="center-content">
                    <h2 class="section-title">Subscribe to our Newsletters</h2>
                    <span class="underline center"></span>
                    <p class="lead">Wanna get emails whenever Kigali Dona Intelligencia got action add your email to our newsletter and enjoy</p>
                </div>
                <div class="form-group">
                    <input class="form-control" placeholder="Enter your Email!" id="newsletter" name="newsletter" type="email">
                    <input class="form-control" value="Subscribe" type="submit">
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End: Newsletter -->

{% endblock %}